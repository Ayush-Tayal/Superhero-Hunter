<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="./images/logo.png">
    <title>Favourites</title>
    <script src="https://kit.fontawesome.com/c80876b834.js" crossorigin="anonymous"></script>

</head>
<body>
    <nav id="navbar">
        <div id="left-navbar">
            <img src="./images/logo.png" onclick="location.href= './index.html' " style="cursor: pointer;" alt="" class="superhero-icon">
            <a href="./index.html" id="heading">Superhero Hunter</a>
        </div>

        <div id="right-navbar">
            <a href="./index.html" class="home">Home</a>
            <a href="./favourites.html" class="favourites">Favourites</a>
        </div>
    </nav>

    <main id="fav-cards">
        <!-- <div class="fav-card">
            <img src="./images/logo.png" alt="">
            <h1>Name</h1>
            <i class="fas fa-heart"></i> 
        </div>

        <div class="fav-card">
            <img src="./images/logo.png" alt="">
            <h1>Name</h1>
            <i class="fas fa-heart"></i> 
        </div>

        <div class="fav-card">
            <img src="./images/logo.png" alt="">
            <h1>Name</h1>
            <i class="fas fa-heart"></i> 
        </div>

        <div class="fav-card">
            <img src="./images/logo.png" alt="">
            <h1>Name</h1>
            <i class="fas fa-heart"></i> 
        </div>

        <div class="fav-card">
            <img src="./images/logo.png" alt="">
            <h1>Name</h1>
            <i class="fas fa-heart"></i> 
        </div>

        <div class="fav-card">
            <img src="./images/logo.png" alt="">
            <h1>Name</h1>
            <i class="fas fa-heart"></i> 
        </div>

        <div class="fav-card">
            <img src="./images/logo.png" alt="">
            <h1>Name</h1>
            <i class="fas fa-heart"></i> 
        </div> -->
    
        
    </main>
</body>
</html>

<script>
    const favCards = document.querySelector("#fav-cards");
    // console.log(favCards);

    function getFav(){
        const getItems = JSON.parse(localStorage.favList);
        console.log(getItems);
        favCards.innerHTML = "";

        getItems.map((oneFav)=>{
            favCards.innerHTML += `<div class="fav-card">
                <img src="${oneFav.image.url}" alt="">
                <h1>${oneFav.name}</h1>
                <i onclick="removeFav(${oneFav.id})" style="cursor: pointer" class="fas fa-heart"></i> 
                </div>`
            })
    }
    
    getFav();

    function removeFav(id){
        const getItems = JSON.parse(localStorage.favList);
        console.log(id);
        const newList = getItems.filter((element) => element.id != id);
        console.log("new List",newList);
        localStorage.setItem("favList", JSON.stringify(newList));
        getFav();
    }
    
    

</script>